# Test Docs.

### Controller Test
- *SpringBoot + Junit5 환경에서 서버를 배포하지 않고 테스트하기 위해 MockMvc를 사용해 test*
- *예외 처리한 부분도 정상적으로 Exception을 발생하는지 확인하기 위해 성공할때와 실패하는 예외케이스들을 test*

1. UserApi
  - 회원가입_성공
  - 회원가입_실패_중복 Username으로 회원가입 시 예외 발생
  - 친구추가_성공
  - 친구추가_실패_사용자가 본인을 추가할때 예외 발생
  - 친구추가_실패_존재하지 않는 사용자 친구 추가할때 예외 발생
  - 친구추가_실패_이미 친구인 친구를 중복 친구추가할 때 예외 발생
  - 친구목록조회_성공
  - 친구목록조회_실패_존재하지 않는 사용자 조회할 때 예외 발생

2. AccountApi
  - 계좌이체_성공
  - 계좌조회_성공

### Service Test
- *단위테스트를 위해 SpringBootTest가 아닌 Mockito이용한 test*
- *Mock으로 가짜 객체를 생성해 의존성을 주입해줌*

1. UserService
  - 회원가입

2. FriendService
  - 친구추가

3. AccountService (Mockito를 이용해서 멀티쓰레드 환경을 테스트하는 방법을 잘 모르겠어서 이 서비스만 @SpringBootTest로 진행하였다.)
  - 계좌이체_성공_싱글쓰레드
  - 계좌이체_실패_계좌가 존재하지 않는 경우 예외 발생
  - 계좌이체_실패_친구가 아닌 경우 예외 발생
  - 계좌이체_실패_잔액이 부족한 경우
  - 계좌이체_성공_멀티쓰레드_동시성테스트 (쓰레드 2개 생성 후 동시에 접근하도록 테스트 진행)
  - 계좌조회_성공
  - 계좌조회_실패_계좌가 존재하지 않는 경우 예외 발생
